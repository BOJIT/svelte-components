import{q as y,w as l,x as N,E,_ as g,a0 as R,J as w,I as v,a2 as d,v as c,y as h,z as T,ag as x,ah as S,n as k,X as q,ai as m,V as D}from"./runtime.S8YJ2jtw.js";function L(s,r,i=!1){l&&N();var a=s,e=null,n=null,f=x,b=i?E:0,o=!1;const I=(_,t=!0)=>{o=!0,u(t,_)},u=(_,t)=>{if(f===(f=_))return;let p=!1;if(l){const A=a.data===g;!!f===A&&(a=R(),w(a),v(!1),p=!0)}f?(e?d(e):t&&(e=c(()=>t(a))),n&&h(n,()=>{n=null})):(n?d(n):t&&(n=c(()=>t(a))),e&&h(e,()=>{e=null})),p&&v(!0)};y(()=>{o=!1,r(I),o||u(null,null)},b),l&&(a=T)}function z(s,r,...i){var a=s,e=k,n;y(()=>{e!==(e=r())&&(n&&(q(n),n=null),e==null&&S(),n=c(()=>e(a,...i)))},E),l&&(a=T)}function C(s,r){return(i,...a)=>{var e=D;m(s);try{return r(i,...a)}finally{m(e)}}}export{L as i,z as s,C as w};
