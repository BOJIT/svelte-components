import{s as ie,q as J,f as T,a as F,O as ue,g as H,h as K,d as w,c as L,P as ce,j,F as W,i as A,u as I,Q as P,R as he,K as se,S as re,l as me,m as de,n as ge,e as X,G as oe,T as _e,p as Q,k as Y,M as be}from"./scheduler.FdWkyacO.js";import{S as ae,i as fe,b as V,d as M,m as C,g as q,t as E,e as B,c as U,a as k,h as pe}from"./index.7yMu5dm2.js";import{t as ke,e as R}from"./Button.svelte_svelte_type_style_lang.5uonD8t2.js";import{w as ve}from"./index.2ub-2Bxr.js";import{T as we}from"./TextField.dEM-m6ne.js";import"./simplebar.OdDKkZHp.js";import{I as ye}from"./IconButton.8xF5gImv.js";/* empty css                                                */function Z(e,t,l){const n=e.slice();return n[11]=t[l],n[13]=l,n}function $(e){let t,l;return{c(){t=T("h6"),l=me(e[1]),this.h()},l(n){t=H(n,"H6",{class:!0});var i=K(t);l=de(i,e[1]),i.forEach(w),this.h()},h(){j(t,"class","svelte-mbjjk1")},m(n,i){A(n,t,i),I(t,l)},p(n,i){i&2&&ge(l,n[1])},d(n){n&&w(t)}}}function x(e){let t,l,n=R(e[5]),i=[];for(let s=0;s<n.length;s+=1)i[s]=ee(Z(e,n,s));const c=s=>E(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=X()},l(s){for(let a=0;a<i.length;a+=1)i[a].l(s);t=X()},m(s,a){for(let h=0;h<i.length;h+=1)i[h]&&i[h].m(s,a);A(s,t,a),l=!0},p(s,a){if(a&224){n=R(s[5]);let h;for(h=0;h<n.length;h+=1){const _=Z(s,n,h);i[h]?(i[h].p(_,a),k(i[h],1)):(i[h]=ee(_),i[h].c(),k(i[h],1),i[h].m(t.parentNode,t))}for(q(),h=n.length;h<i.length;h+=1)c(h);U()}},i(s){if(!l){for(let a=0;a<n.length;a+=1)k(i[a]);l=!0}},o(s){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)E(i[a]);l=!1},d(s){s&&w(t),oe(i,s)}}}function ee(e){let t,l;function n(){return e[9](e[13])}return t=new ye({props:{icon:e[11],size:"2.1rem",color:"transparent",iconColor:e[6]==="light"?"black":"white"}}),t.$on("click",n),{c(){V(t.$$.fragment)},l(i){M(t.$$.fragment,i)},m(i,c){C(t,i,c),l=!0},p(i,c){e=i;const s={};c&32&&(s.icon=e[11]),c&64&&(s.iconColor=e[6]==="light"?"black":"white"),t.$set(s)},i(i){l||(k(t.$$.fragment,i),l=!0)},o(i){E(t.$$.fragment,i),l=!1},d(i){B(t,i)}}}function je(e){let t,l,n,i,c,s,a,h=te(e[0],e[3])+"",_,g,b,y,p;var r=e[2];function D(d,m){return{props:{height:"1.75rem"}}}r&&(n=J(r,D()));let o=e[1]!==""&&e[1]!==void 0&&$(e),u=e[5]!==void 0&&x(e);return{c(){t=T("div"),l=T("div"),n&&V(n.$$.fragment),i=F(),c=T("div"),s=T("h5"),a=new ue(!1),_=F(),o&&o.c(),g=F(),u&&u.c(),this.h()},l(d){t=H(d,"DIV",{class:!0});var m=K(t);l=H(m,"DIV",{class:!0});var v=K(l);n&&M(n.$$.fragment,v),v.forEach(w),i=L(m),c=H(m,"DIV",{class:!0});var f=K(c);s=H(f,"H5",{class:!0});var S=K(s);a=ce(S,!1),S.forEach(w),_=L(f),o&&o.l(f),f.forEach(w),g=L(m),u&&u.l(m),m.forEach(w),this.h()},h(){j(l,"class","left svelte-mbjjk1"),a.a=null,j(s,"class","svelte-mbjjk1"),j(c,"class","text svelte-mbjjk1"),j(t,"class","container overflow-hidden svelte-mbjjk1"),W(t,"selected",e[4])},m(d,m){A(d,t,m),I(t,l),n&&C(n,l,null),I(t,i),I(t,c),I(c,s),a.m(h,s),I(c,_),o&&o.m(c,null),I(t,g),u&&u.m(t,null),b=!0,y||(p=[P(t,"click",e[10]),P(t,"keypress",e[8])],y=!0)},p(d,[m]){if(m&4&&r!==(r=d[2])){if(n){q();const v=n;E(v.$$.fragment,1,0,()=>{B(v,1)}),U()}r?(n=J(r,D()),V(n.$$.fragment),k(n.$$.fragment,1),C(n,l,null)):n=null}(!b||m&9)&&h!==(h=te(d[0],d[3])+"")&&a.p(h),d[1]!==""&&d[1]!==void 0?o?o.p(d,m):(o=$(d),o.c(),o.m(c,null)):o&&(o.d(1),o=null),d[5]!==void 0?u?(u.p(d,m),m&32&&k(u,1)):(u=x(d),u.c(),k(u,1),u.m(t,null)):u&&(q(),E(u,1,1,()=>{u=null}),U()),(!b||m&16)&&W(t,"selected",d[4])},i(d){b||(n&&k(n.$$.fragment,d),k(u),b=!0)},o(d){n&&E(n.$$.fragment,d),E(u),b=!1},d(d){d&&w(t),n&&B(n),o&&o.d(),u&&u.d(),y=!1,he(p)}}}function te(e,t){if(t==="")return e;const l=new RegExp(t,"gi");return e.replace(l,function(i){return'<span class="highlight">'+i+"</span>"})}function Ie(e,t,l){let n;se(e,ke,r=>l(6,n=r));let{name:i="Unknown"}=t,{description:c=""}=t,{icon:s=void 0}=t,{highlight:a=""}=t,{selected:h=!1}=t,{buttons:_=[]}=t,g=re();function b(r){_e.call(this,e,r)}const y=r=>{g("button",r)},p=r=>{r.target&&r.target.tagName==="BUTTON"||r.target.parentNode.tagName!=="BUTTON"&&g("click")};return e.$$set=r=>{"name"in r&&l(0,i=r.name),"description"in r&&l(1,c=r.description),"icon"in r&&l(2,s=r.icon),"highlight"in r&&l(3,a=r.highlight),"selected"in r&&l(4,h=r.selected),"buttons"in r&&l(5,_=r.buttons)},[i,c,s,a,h,_,n,g,b,y,p]}class Ee extends ae{constructor(t){super(),fe(this,t,Ie,je,ie,{name:0,description:1,icon:2,highlight:3,selected:4,buttons:5})}}function ne(e,t,l){const n=e.slice();return n[18]=t[l],n[20]=l,n}function le(e){let t,l;function n(){return e[14](e[20])}function i(...c){return e[15](e[18],...c)}return t=new Ee({props:{name:e[18].searchKey?e[18].searchKey:e[18].key,description:e[18].description,icon:e[18].icon,highlight:e[6],selected:e[20]===e[5],buttons:e[18].buttons?e[2].concat(e[18].buttons):e[2]}}),t.$on("click",n),t.$on("button",i),{c(){V(t.$$.fragment)},l(c){M(t.$$.fragment,c)},m(c,s){C(t,c,s),l=!0},p(c,s){e=c;const a={};s&65&&(a.name=e[18].searchKey?e[18].searchKey:e[18].key),s&65&&(a.description=e[18].description),s&65&&(a.icon=e[18].icon),s&64&&(a.highlight=e[6]),s&32&&(a.selected=e[20]===e[5]),s&69&&(a.buttons=e[18].buttons?e[2].concat(e[18].buttons):e[2]),t.$set(a)},i(c){l||(k(t.$$.fragment,c),l=!0)},o(c){E(t.$$.fragment,c),l=!1},d(c){B(t,c)}}}function De(e){let t,l,n,i,c,s,a,h,_,g;function b(o){e[12](o)}let y={outlined:!0,prepend:"search",color:"secondary",error:e[10](e[0],e[6]).length===0&&Object.keys(e[0]).length!==0?"Item Not Found":!1};e[6]!==void 0&&(y.value=e[6]),n=new we({props:y}),Q.push(()=>pe(n,"value",b));let p=R(e[10](e[0],e[6])),r=[];for(let o=0;o<p.length;o+=1)r[o]=le(ne(e,p,o));const D=o=>E(r[o],1,1,()=>{r[o]=null});return{c(){t=T("div"),l=T("form"),V(n.$$.fragment),c=F(),s=T("div"),a=T("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=H(o,"DIV",{class:!0});var u=K(t);l=H(u,"FORM",{autocomplete:!0,class:!0});var d=K(l);M(n.$$.fragment,d),d.forEach(w),c=L(u),s=H(u,"DIV",{class:!0,"data-simplebar":!0});var m=K(s);a=H(m,"DIV",{class:!0});var v=K(a);for(let f=0;f<r.length;f+=1)r[f].l(v);v.forEach(w),m.forEach(w),u.forEach(w),this.h()},h(){j(l,"autocomplete","off"),j(l,"class","overflow svelte-1l7hlmc"),j(a,"class","list svelte-1l7hlmc"),j(s,"class","overflow svelte-1l7hlmc"),j(s,"data-simplebar",""),Y(s,"max-height",e[1]),j(t,"class","container")},m(o,u){A(o,t,u),I(t,l),C(n,l,null),e[13](l),I(t,c),I(t,s),I(s,a);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(a,null);e[16](a),h=!0,_||(g=P(window,"keydown",e[9]),_=!0)},p(o,[u]){const d={};if(u&65&&(d.error=o[10](o[0],o[6]).length===0&&Object.keys(o[0]).length!==0?"Item Not Found":!1),!i&&u&64&&(i=!0,d.value=o[6],be(()=>i=!1)),n.$set(d),u&1381){p=R(o[10](o[0],o[6]));let m;for(m=0;m<p.length;m+=1){const v=ne(o,p,m);r[m]?(r[m].p(v,u),k(r[m],1)):(r[m]=le(v),r[m].c(),k(r[m],1),r[m].m(a,null))}for(q(),m=p.length;m<r.length;m+=1)D(m);U()}u&2&&Y(s,"max-height",o[1])},i(o){if(!h){k(n.$$.fragment,o);for(let u=0;u<p.length;u+=1)k(r[u]);h=!0}},o(o){E(n.$$.fragment,o),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)E(r[u]);h=!1},d(o){o&&w(t),B(n),e[13](null),oe(r,o),e[16](null),_=!1,g()}}}function Se(e,t,l){let n,{items:i={}}=t,{maxHeight:c="30rem"}=t,{buttons:s=[]}=t,a,h,_=ve("");se(e,_,f=>l(6,n=f));let g=null;const b=re();function y(){if(a===void 0)return;a.querySelector("input")?.focus()}function p(f){f==="down"?g&&g>0&&l(5,g--,g):g===null?l(5,g=0):g<D(i,n).length-1&&l(5,g++,g),g!==null&&h.children.item(g)?.scrollIntoView(f==="down")}function r(f){a===void 0||a.querySelector("input")!==document.activeElement||(f.key==="ArrowDown"?(f.preventDefault(),p("up")):f.key==="ArrowUp"?(f.preventDefault(),p("down")):f.key==="Enter"&&(f.preventDefault(),g!==null&&g<D(i,n).length&&b("select",D(i,n)[g].key),setTimeout(y,100)))}function D(f,S){let z=Object.keys(f).sort((N,O)=>N.localeCompare(O));S!==""&&(z=z.filter(N=>(f[N].searchKey!==void 0?f[N].searchKey:N).toLowerCase().includes(S.toLowerCase())));const G=z.map(N=>{let O=f[N];return O.key=N,O});return g&&g>=G.length&&l(5,g=null),G.length===1&&l(5,g=0),G}function o(f){n=f,_.set(n)}function u(f){Q[f?"unshift":"push"](()=>{a=f,l(3,a)})}const d=f=>{l(5,g=f),b("select",D(i,n)[f].key)},m=(f,S)=>{b("button",{key:f.key,index:S.detail})};function v(f){Q[f?"unshift":"push"](()=>{h=f,l(4,h)})}return e.$$set=f=>{"items"in f&&l(0,i=f.items),"maxHeight"in f&&l(1,c=f.maxHeight),"buttons"in f&&l(2,s=f.buttons)},[i,c,s,a,h,g,n,_,b,r,D,y,o,u,d,m,v]}class Fe extends ae{constructor(t){super(),fe(this,t,Se,De,ie,{items:0,maxHeight:1,buttons:2,focus:11})}get focus(){return this.$$.ctx[11]}}export{Fe as S};
