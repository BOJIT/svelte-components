import{c as V,l as A}from"./BvQ-jD0X.js";import"./BpBpVZaC.js";import{p as q,J as Z,f as x,g as p,a as k,b as z,t as $,C as L,q as f,F as b,c as F,h as Se,s as be,aI as _e,m as w,y as pe,z as ke,v as Me,o as Ce,be as B,i as Te}from"./DGXZ7-fm.js";import{i as D}from"./BHU2znjU.js";import{i as U}from"./DBeeaDE9.js";import{p as m,s as O,a as Ee}from"./ChhyvjLa.js";import{d as ee,w as g,g as te}from"./N4TStgLK.js";import{a as j}from"./DmM4ED4t.js";import{f as oe}from"./C1fO13Xt.js";import{h as Ie}from"./BCQ-OJUB.js";let G,R;function ne(o){if(typeof document>"u")return;clearTimeout(G),clearTimeout(R);const e=document.createElement("style"),n=document.createTextNode(`* {
     -webkit-transition: none !important;
     -moz-transition: none !important;
     -o-transition: none !important;
     -ms-transition: none !important;
     transition: none !important;
  }`);e.appendChild(n);const t=()=>document.head.appendChild(e),s=()=>document.head.removeChild(e);if(typeof window.getComputedStyle<"u"){t(),o(),window.getComputedStyle(e).opacity,s();return}if(typeof window.requestAnimationFrame<"u"){t(),o(),window.requestAnimationFrame(s);return}t(),G=window.setTimeout(()=>{o(),R=window.setTimeout(s,120)},120)}function X(o){return o.filter(e=>e.length>0)}const re={getItem:o=>null,setItem:(o,e)=>{}},y=typeof document<"u",Le=["dark","light","system"],C=g("mode-watcher-mode"),T=g("mode-watcher-theme"),ae=Ve(),K=qe(),se=g(void 0),ie=Ae(),H=g(!0),ce=g([]),le=g([]),Ke=xe(),Ne=ze();function Ve(){const o="system",e=y?localStorage:re,n=e.getItem(s());let t=N(n)?n:o;function s(){return te(C)}const{subscribe:l,set:i}=g(t,()=>{if(!y)return;const a=c=>{if(c.key!==s())return;const u=c.newValue;N(u)?i(t=u):i(t=o)};return addEventListener("storage",a),()=>removeEventListener("storage",a)});function r(a){i(t=a),e.setItem(s(),t)}return{subscribe:l,set:r}}function Ae(){const o=y?localStorage:re,e=o.getItem(t());let n=e??"";function t(){return te(T)}const{subscribe:s,set:l}=g(n,()=>{if(!y)return;const r=a=>{if(a.key!==t())return;const c=a.newValue;l(c===null?n="":n=c)};return addEventListener("storage",r),()=>removeEventListener("storage",r)});function i(r){l(n=r),o.setItem(t(),n)}return{subscribe:s,set:i}}function qe(){let e=!0;const{subscribe:n,set:t}=g(void 0,()=>{if(!y)return;const i=a=>{e&&t(a.matches?"light":"dark")},r=window.matchMedia("(prefers-color-scheme: light)");return r.addEventListener("change",i),()=>r.removeEventListener("change",i)});function s(){if(!y)return;const i=window.matchMedia("(prefers-color-scheme: light)");t(i.matches?"light":"dark")}function l(i){e=i}return{subscribe:n,query:s,tracking:l}}function xe(){const{subscribe:o}=ee([ae,K,se,H,ce,le],([e,n,t,s,l,i])=>{if(!y)return;const r=e==="system"?n:e,a=X(l),c=X(i);function u(){const d=document.documentElement,h=document.querySelector('meta[name="theme-color"]');r==="light"?(a.length&&d.classList.remove(...a),c.length&&d.classList.add(...c),d.style.colorScheme="light",h&&t&&h.setAttribute("content",t.light)):(c.length&&d.classList.remove(...c),a.length&&d.classList.add(...a),d.style.colorScheme="dark",h&&t&&h.setAttribute("content",t.dark))}return s?ne(u):u(),r});return{subscribe:o}}function ze(){const{subscribe:o}=ee([ie,H],([e,n])=>{if(!y)return;function t(){document.documentElement.setAttribute("data-theme",e)}return n?ne(t):t(),e});return{subscribe:o}}function N(o){return typeof o!="string"?!1:Le.includes(o)}function Fe(o){ae.set(o)}function De(o){ie.set(o)}function Y({defaultMode:o="system",themeColors:e,darkClassNames:n=["dark"],lightClassNames:t=[],defaultTheme:s="",modeStorageKey:l="mode-watcher-mode",themeStorageKey:i="mode-watcher-theme"}){const r=document.documentElement,a=localStorage.getItem(l)||o,c=localStorage.getItem(i)||s,u=a==="light"||a==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(u?(n.length&&r.classList.remove(...n),t.length&&r.classList.add(...t)):(t.length&&r.classList.remove(...t),n.length&&r.classList.add(...n)),r.style.colorScheme=u?"light":"dark",e){const d=document.querySelector('meta[name="theme-color"]');d&&d.setAttribute("content",a==="light"?e.light:e.dark)}c&&(r.setAttribute("data-theme",c),localStorage.setItem(i,c)),localStorage.setItem(l,a)}M[b]="node_modules/mode-watcher/dist/mode-watcher-lite.svelte";var Ue=j(F('<meta name="theme-color"/>'),M[b],[[8,1]]);function M(o,e){V(new.target),q(e,!1,M);let n=m(e,"themeColors",24,()=>{});var t={...A()};U();var s=Z(),l=x(s);{var i=r=>{var a=Ue();$(()=>oe(a,"content",(f(n()),L(()=>n().dark)))),k(r,a)};p(()=>D(l,r=>{n()&&r(i)}),"if",M,4,0)}return k(o,s),z(t)}S[b]="node_modules/mode-watcher/dist/mode-watcher-full.svelte";var je=j(F('<meta name="theme-color"/>'),S[b],[[12,2]]),He=j(F("<!> <!>",1),S[b],[]);function S(o,e){V(new.target),q(e,!1,S);let n=m(e,"trueNonce",8,""),t=m(e,"initConfig",8),s=m(e,"themeColors",24,()=>{});var l={...A()};return U(),Se(i=>{var r=He(),a=x(r);{var c=d=>{var h=je();$(()=>oe(h,"content",(f(s()),L(()=>s().dark)))),k(d,h)};p(()=>D(a,d=>{s()&&d(c)}),"if",S,8,1)}var u=be(a,2);Ie(u,()=>(f(n()),f(Y),f(t()),L(()=>`<script${n()?` nonce=${n()}`:""}>(`+Y.toString()+")("+JSON.stringify(t())+");<\/script>")),void 0,void 0,!0),k(i,r)}),z(l)}_[b]="node_modules/mode-watcher/dist/mode-watcher.svelte";function _(o,e){V(new.target),q(e,!1,_);const n=()=>(B(C,"modeStorageKeyStore"),O(C,"$modeStorageKeyStore",s)),t=()=>(B(T,"themeStorageKeyStore"),O(T,"$themeStorageKeyStore",s)),[s,l]=Ee(),i=Me();let r=m(e,"track",8,!0),a=m(e,"defaultMode",8,"system"),c=m(e,"themeColors",24,()=>{}),u=m(e,"disableTransitions",8,!0),d=m(e,"darkClassNames",24,()=>["dark"]),h=m(e,"lightClassNames",24,()=>[]),J=m(e,"defaultTheme",8,""),P=m(e,"nonce",8,""),E=m(e,"themeStorageKey",8,"mode-watcher-theme"),I=m(e,"modeStorageKey",8,"mode-watcher-mode"),de=m(e,"disableHeadScriptInjection",8,!1);_e(()=>{const v=Ke.subscribe(()=>{}),ye=Ne.subscribe(()=>{});K.tracking(r()),K.query();const W=localStorage.getItem(n());Fe(N(W)?W:a());const we=localStorage.getItem(t());return De(we||J()),()=>{v(),ye()}});const me={defaultMode:a(),themeColors:c(),darkClassNames:d(),lightClassNames:h(),defaultTheme:J(),modeStorageKey:I(),themeStorageKey:E()};w(()=>f(u()),()=>{H.set(u())}),w(()=>f(c()),()=>{se.set(c())}),w(()=>f(d()),()=>{ce.set(d())}),w(()=>f(h()),()=>{le.set(h())}),w(()=>f(I()),()=>{C.set(I())}),w(()=>f(E()),()=>{T.set(E())}),w(()=>f(P()),()=>{pe(i,ke(typeof window,"undefined")?P():"")}),Ce();var ue={...A()};U();var Q=Z(),fe=x(Q);{var he=v=>{p(()=>M(v,{get themeColors(){return c()}}),"component",_,74,1,{componentTag:"ModeWatcherLite"})},ge=v=>{p(()=>S(v,{get trueNonce(){return Te(i)},get initConfig(){return me},get themeColors(){return c()}}),"component",_,76,1,{componentTag:"ModeWatcherFull"})};p(()=>D(fe,v=>{de()?v(he):v(ge,!1)}),"if",_,73,0)}k(o,Q);var ve=z(ue);return l(),ve}export{_ as M,Ke as d,Fe as s,ae as u};
