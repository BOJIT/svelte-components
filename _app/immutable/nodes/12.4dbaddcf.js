import{S as q,i as L,s as F,G as D,H as g,I as w,m as v,h as d,n as l,J as R,b,E as _,K as Y,F as x,L as V,y as O,z as W,A as X,g as I,d as z,B as G,a5 as ie,o as le,a0 as ne,k as E,q as A,a as T,l as P,r as H,c as B,u as se,v as $,f as Q,w as Z,X as oe,Y as ae}from"../chunks/index.bb4d36fe.js";/* empty css                                                  */import"../chunks/Button.svelte_svelte_type_style_lang.42d79513.js";/* empty css                                                            */import"../chunks/Notifications.e4384b9f.js";/* empty css                                                      *//* empty css                                                     *//* empty css                                                         */import"../chunks/simplebar.160efc6b.js";import{t as ce}from"../chunks/index.48697731.js";/* empty css                                                        *//* empty css                                                      *//* empty css                                                   */import"../chunks/App.svelte_svelte_type_style_lang.63d4c16e.js";import{m as ue}from"../chunks/prism.8ab6dc0b.js";import{L as fe}from"../chunks/List.c66450dc.js";import{R as he}from"../chunks/refresh.ab683052.js";import{C as me}from"../chunks/Container.e24fa8d8.js";/* empty css                                                      */function de(c){let e,t,r,s,a,n=[c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],f={};for(let o=0;o<n.length;o+=1)f=D(f,n[o]);return{c(){e=g("svg"),t=g("circle"),r=g("circle"),s=g("circle"),a=g("path"),this.h()},l(o){e=w(o,"svg",{fill:!0,viewBox:!0});var i=v(e);t=w(i,"circle",{cx:!0,cy:!0,r:!0}),v(t).forEach(d),r=w(i,"circle",{cx:!0,cy:!0,r:!0}),v(r).forEach(d),s=w(i,"circle",{cx:!0,cy:!0,r:!0}),v(s).forEach(d),a=w(i,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),v(a).forEach(d),i.forEach(d),this.h()},h(){l(t,"cx","256"),l(t,"cy","256"),l(t,"r","26"),l(r,"cx","346"),l(r,"cy","256"),l(r,"r","26"),l(s,"cx","166"),l(s,"cy","256"),l(s,"r","26"),l(a,"fill","none"),l(a,"stroke","currentColor"),l(a,"stroke-miterlimit","10"),l(a,"stroke-width","32"),l(a,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),R(e,f)},m(o,i){b(o,e,i),_(e,t),_(e,r),_(e,s),_(e,a)},p(o,[i]){R(e,f=Y(n,[i&1&&o[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:x,o:x,d(o){o&&d(e)}}}function _e(c,e,t){return c.$$set=r=>{t(0,e=D(D({},e),V(r)))},e=V(e),[e]}class ve extends q{constructor(e){super(),L(this,e,_e,de,F,{})}}function pe(c){let e,t,r,s,a,n,f=[c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],o={};for(let i=0;i<f.length;i+=1)o=D(o,f[i]);return{c(){e=g("svg"),t=g("path"),r=g("path"),s=g("circle"),a=g("circle"),n=g("circle"),this.h()},l(i){e=w(i,"svg",{fill:!0,viewBox:!0});var u=v(e);t=w(u,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),v(t).forEach(d),r=w(u,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),v(r).forEach(d),s=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),v(s).forEach(d),a=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),v(a).forEach(d),n=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),v(n).forEach(d),u.forEach(d),this.h()},h(){l(t,"fill","none"),l(t,"stroke","currentColor"),l(t,"stroke-linecap","round"),l(t,"stroke-linejoin","round"),l(t,"stroke-width","32"),l(t,"d","M224 184h128m-128 72h128m-128 71h128"),l(r,"fill","none"),l(r,"stroke","currentColor"),l(r,"stroke-miterlimit","10"),l(r,"stroke-width","32"),l(r,"d","M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192 192-86 192-192z"),l(s,"cx","168"),l(s,"cy","184"),l(s,"r","8"),l(s,"fill","none"),l(s,"stroke","currentColor"),l(s,"stroke-linecap","round"),l(s,"stroke-linejoin","round"),l(s,"stroke-width","32"),l(a,"cx","168"),l(a,"cy","257"),l(a,"r","8"),l(a,"fill","none"),l(a,"stroke","currentColor"),l(a,"stroke-linecap","round"),l(a,"stroke-linejoin","round"),l(a,"stroke-width","32"),l(n,"cx","168"),l(n,"cy","328"),l(n,"r","8"),l(n,"fill","none"),l(n,"stroke","currentColor"),l(n,"stroke-linecap","round"),l(n,"stroke-linejoin","round"),l(n,"stroke-width","32"),R(e,o)},m(i,u){b(i,e,u),_(e,t),_(e,r),_(e,s),_(e,a),_(e,n)},p(i,[u]){R(e,o=Y(f,[u&1&&i[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:x,o:x,d(i){i&&d(e)}}}function ke(c,e,t){return c.$$set=r=>{t(0,e=D(D({},e),V(r)))},e=V(e),[e]}class ge extends q{constructor(e){super(),L(this,e,ke,pe,F,{})}}function U(c){let e,t,r,s;const a=[be,we],n=[];function f(o,i){return o[3].length==0?0:1}return t=f(c),r=n[t]=a[t](c),{c(){e=E("div"),r.c(),this.h()},l(o){e=P(o,"DIV",{class:!0});var i=v(e);r.l(i),i.forEach(d),this.h()},h(){l(e,"class","serial-overlay svelte-1w1dcoz")},m(o,i){b(o,e,i),n[t].m(e,null),s=!0},p(o,i){let u=t;t=f(o),t===u?n[t].p(o,i):($(),z(n[u],1,1,()=>{n[u]=null}),Q(),r=n[t],r?r.p(o,i):(r=n[t]=a[t](o),r.c()),I(r,1),r.m(e,null))},i(o){s||(I(r),s=!0)},o(o){z(r),s=!1},d(o){o&&d(e),n[t].d()}}}function we(c){let e,t,r;function s(n){c[12](n)}let a={items:c[3]};return c[4]!==void 0&&(a.value=c[4]),e=new fe({props:a}),Z.push(()=>oe(e,"value",s)),e.$on("change",c[7]),{c(){O(e.$$.fragment)},l(n){W(e.$$.fragment,n)},m(n,f){X(e,n,f),r=!0},p(n,f){const o={};f&8&&(o.items=n[3]),!t&&f&16&&(t=!0,o.value=n[4],ae(()=>t=!1)),e.$set(o)},i(n){r||(I(e.$$.fragment,n),r=!0)},o(n){z(e.$$.fragment,n),r=!1},d(n){G(e,n)}}}function be(c){let e,t;return{c(){e=E("h6"),t=A("[No Available Ports]"),this.h()},l(r){e=P(r,"H6",{class:!0});var s=v(e);t=H(s,"[No Available Ports]"),s.forEach(d),this.h()},h(){l(e,"class","svelte-1w1dcoz")},m(r,s){b(r,e,s),_(e,t)},p:x,i:x,o:x,d(r){r&&d(e)}}}function ye(c){let e,t,r,s,a,n,f,o,i,u,h=!c[0]&&U(c);return{c(){e=E("div"),t=E("h6"),r=A("Terminal - "),s=A(c[1]),a=T(),n=E("hr"),f=T(),o=E("div"),i=T(),h&&h.c(),this.h()},l(p){e=P(p,"DIV",{class:!0});var k=v(e);t=P(k,"H6",{class:!0});var S=v(t);r=H(S,"Terminal - "),s=H(S,c[1]),S.forEach(d),a=B(k),n=P(k,"HR",{class:!0}),f=B(k),o=P(k,"DIV",{class:!0}),v(o).forEach(d),i=B(k),h&&h.l(k),k.forEach(d),this.h()},h(){l(t,"class","svelte-1w1dcoz"),l(n,"class","svelte-1w1dcoz"),l(o,"class","xterm-container svelte-1w1dcoz"),l(e,"class","console svelte-1w1dcoz")},m(p,k){b(p,e,k),_(e,t),_(t,r),_(t,s),_(e,a),_(e,n),_(e,f),_(e,o),c[11](o),_(e,i),h&&h.m(e,null),u=!0},p(p,k){(!u||k&2)&&se(s,p[1]),p[0]?h&&($(),z(h,1,1,()=>{h=null}),Q()):h?(h.p(p,k),k&1&&I(h,1)):(h=U(p),h.c(),I(h,1),h.m(e,null))},i(p){u||(I(h),u=!0)},o(p){z(h),u=!1},d(p){p&&d(e),c[11](null),h&&h.d()}}}function Ee(c){let e,t;return e=new me({props:{wide:!0,tray:[{icon:he,callback:c[5]},{icon:ge,callback:c[6]},{icon:ve,callback:Pe}],$$slots:{default:[ye]},$$scope:{ctx:c}}}),{c(){O(e.$$.fragment)},l(r){W(e.$$.fragment,r)},m(r,s){X(e,r,s),t=!0},p(r,[s]){const a={};s&262175&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(r){t||(I(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){G(e,r)}}}function Pe(){console.error("Not Implemented!")}function xe(c,e,t){const r=ie();let{name:s="COMX"}=e,{active:a=!1}=e,{baud:n=115200}=e,{interactive:f=!0}=e,o,i=[],u,h,p;async function k(m){a&&S(m)}async function S(m){if(f){let y=new TextEncoder().encode(m);console.log(y),await(p==null?void 0:p.write(y))}}function J(m){r("recv",m.value),h==null||h.read().then(J)}ce.subscribe(m=>{});async function M(){if("serial"in navigator){let m=await navigator.serial.getPorts();t(3,i=await Promise.all(m.map(async(j,y)=>{let C=j.getInfo(),N="";return"usbProductId"in C?N=`${y+1} - VID: ${C.usbVendorId}, PID: ${C.usbProductId}`:N=`${y+1} - Unknown Device`,{icon:"cable",text:N,port:j}})))}}async function ee(){if("serial"in navigator)try{let m=await navigator.serial.requestPort();console.log(m),M()}catch{}}async function K(){var j,y;let m=i.find(C=>C.text===u);if(m!==void 0){try{await m.port.open({baudRate:n})}catch(C){return ue.push({type:"error",title:"Port Open Failed!",message:"Failed to open Serial Port!",timeout:5}),console.error(C),!1}return h=(j=m.port.readable)==null?void 0:j.getReader(),p=(y=m.port.writable)==null?void 0:y.getWriter(),h==null||h.read().then(J),t(0,a=!0),!0}else return!1}le(async()=>{if(!(u!==void 0&&await K()===!0))try{await M(),setInterval(M,3e3)}catch{}}),ne(()=>{});function te(m){Z[m?"unshift":"push"](()=>{o=m,t(2,o)})}function re(m){u=m,t(4,u)}return c.$$set=m=>{"name"in m&&t(1,s=m.name),"active"in m&&t(0,a=m.active),"baud"in m&&t(8,n=m.baud),"interactive"in m&&t(9,f=m.interactive)},[a,s,o,i,u,M,ee,K,n,f,k,te,re]}class Ie extends q{constructor(e){super(),L(this,e,xe,Ee,F,{name:1,active:0,baud:8,interactive:9,send:10})}get send(){return this.$$.ctx[10]}}function Ce(c){let e,t,r,s,a,n,f,o;return f=new Ie({}),{c(){e=E("h1"),t=A("Terminal"),r=T(),s=E("p"),a=A("This is a built-in serial terminal widget: it uses the Web Serial API"),n=T(),O(f.$$.fragment)},l(i){e=P(i,"H1",{});var u=v(e);t=H(u,"Terminal"),u.forEach(d),r=B(i),s=P(i,"P",{});var h=v(s);a=H(h,"This is a built-in serial terminal widget: it uses the Web Serial API"),h.forEach(d),n=B(i),W(f.$$.fragment,i)},m(i,u){b(i,e,u),_(e,t),b(i,r,u),b(i,s,u),_(s,a),b(i,n,u),X(f,i,u),o=!0},p:x,i(i){o||(I(f.$$.fragment,i),o=!0)},o(i){z(f.$$.fragment,i),o=!1},d(i){i&&d(e),i&&d(r),i&&d(s),i&&d(n),G(f,i)}}}function ze(c){return[]}class Ke extends q{constructor(e){super(),L(this,e,ze,Ce,F,{})}}export{Ke as component};
