import{S as ce,i as ue,s as fe,G as x,H as R,I as B,m as k,h as d,n as i,J as se,b as V,E as v,K as pe,F as H,L as oe,w as ae,X as de,y as te,a as M,z as re,c as q,A as ie,Y as me,g as K,d as Q,B as ne,$ as Ee,o as ye,a0 as Pe,k as C,q as X,l as D,r as G,Q as Z,u as _e,v as Ie,f as Ce,Z as De}from"../chunks/index.33cc678e.js";/* empty css                                                  */import"../chunks/ThemeSelector.svelte_svelte_type_style_lang.186b0848.js";import{t as Te}from"../chunks/Button.svelte_svelte_type_style_lang.662bcbc4.js";import{C as Ae,m as Re}from"../chunks/prism.37b4e59c.js";/* empty css                                                      *//* empty css                                                      */import"../chunks/Notifications.4fd1e524.js";/* empty css                                                     *//* empty css                                                         */import"../chunks/simplebar.f3f50ae1.js";/* empty css                                                        *//* empty css                                                      *//* empty css                                                   */import{_ as he}from"../chunks/preload-helper.41c905a7.js";import"../chunks/App.svelte_svelte_type_style_lang.63d4c16e.js";import{D as Be,S as Ve}from"../chunks/SearchableList.980012cb.js";import{L as Se}from"../chunks/List.2794f7d3.js";import{R as ve}from"../chunks/refresh.af35c82c.js";import{C as Le}from"../chunks/Container.58fd96d5.js";function je(l){let e,t,r,n,f,o=[l[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],_={};for(let h=0;h<o.length;h+=1)_=x(_,o[h]);return{c(){e=R("svg"),t=R("circle"),r=R("circle"),n=R("circle"),f=R("path"),this.h()},l(h){e=B(h,"svg",{fill:!0,viewBox:!0});var u=k(e);t=B(u,"circle",{cx:!0,cy:!0,r:!0}),k(t).forEach(d),r=B(u,"circle",{cx:!0,cy:!0,r:!0}),k(r).forEach(d),n=B(u,"circle",{cx:!0,cy:!0,r:!0}),k(n).forEach(d),f=B(u,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),k(f).forEach(d),u.forEach(d),this.h()},h(){i(t,"cx","256"),i(t,"cy","256"),i(t,"r","26"),i(r,"cx","346"),i(r,"cy","256"),i(r,"r","26"),i(n,"cx","166"),i(n,"cy","256"),i(n,"r","26"),i(f,"fill","none"),i(f,"stroke","currentColor"),i(f,"stroke-miterlimit","10"),i(f,"stroke-width","32"),i(f,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),se(e,_)},m(h,u){V(h,e,u),v(e,t),v(e,r),v(e,n),v(e,f)},p(h,[u]){se(e,_=pe(o,[u&1&&h[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:H,o:H,d(h){h&&d(e)}}}function He(l,e,t){return l.$$set=r=>{t(0,e=x(x({},e),oe(r)))},e=oe(e),[e]}class Oe extends ce{constructor(e){super(),ue(this,e,He,je,fe,{})}}function ze(l){let e,t,r,n,f,o,_=[l[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],h={};for(let u=0;u<_.length;u+=1)h=x(h,_[u]);return{c(){e=R("svg"),t=R("path"),r=R("path"),n=R("circle"),f=R("circle"),o=R("circle"),this.h()},l(u){e=B(u,"svg",{fill:!0,viewBox:!0});var a=k(e);t=B(a,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),k(t).forEach(d),r=B(a,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),k(r).forEach(d),n=B(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),k(n).forEach(d),f=B(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),k(f).forEach(d),o=B(a,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),k(o).forEach(d),a.forEach(d),this.h()},h(){i(t,"fill","none"),i(t,"stroke","currentColor"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"stroke-width","32"),i(t,"d","M224 184h128m-128 72h128m-128 71h128"),i(r,"fill","none"),i(r,"stroke","currentColor"),i(r,"stroke-miterlimit","10"),i(r,"stroke-width","32"),i(r,"d","M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192 192-86 192-192z"),i(n,"cx","168"),i(n,"cy","184"),i(n,"r","8"),i(n,"fill","none"),i(n,"stroke","currentColor"),i(n,"stroke-linecap","round"),i(n,"stroke-linejoin","round"),i(n,"stroke-width","32"),i(f,"cx","168"),i(f,"cy","257"),i(f,"r","8"),i(f,"fill","none"),i(f,"stroke","currentColor"),i(f,"stroke-linecap","round"),i(f,"stroke-linejoin","round"),i(f,"stroke-width","32"),i(o,"cx","168"),i(o,"cy","328"),i(o,"r","8"),i(o,"fill","none"),i(o,"stroke","currentColor"),i(o,"stroke-linecap","round"),i(o,"stroke-linejoin","round"),i(o,"stroke-width","32"),se(e,h)},m(u,a){V(u,e,a),v(e,t),v(e,r),v(e,n),v(e,f),v(e,o)},p(u,[a]){se(e,h=pe(_,[a&1&&u[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:H,o:H,d(u){u&&d(e)}}}function Me(l,e,t){return l.$$set=r=>{t(0,e=x(x({},e),oe(r)))},e=oe(e),[e]}class ge extends ce{constructor(e){super(),ue(this,e,Me,ze,fe,{})}}function qe(l){let e,t,r;function n(o){l[17](o)}let f={items:l[7]};return l[8]!==void 0&&(f.value=l[8]),e=new Se({props:f}),ae.push(()=>de(e,"value",n)),e.$on("change",l[12]),{c(){te(e.$$.fragment)},l(o){re(e.$$.fragment,o)},m(o,_){ie(e,o,_),r=!0},p(o,_){const h={};_[0]&128&&(h.items=o[7]),!t&&_[0]&256&&(t=!0,h.value=o[8],me(()=>t=!1)),e.$set(h)},i(o){r||(K(e.$$.fragment,o),r=!0)},o(o){Q(e.$$.fragment,o),r=!1},d(o){ne(e,o)}}}function Fe(l){let e,t;return{c(){e=C("h6"),t=X("[No Available Ports]"),this.h()},l(r){e=D(r,"H6",{class:!0});var n=k(e);t=G(n,"[No Available Ports]"),n.forEach(d),this.h()},h(){i(e,"class","svelte-rrug2h")},m(r,n){V(r,e,n),v(e,t)},p:H,i:H,o:H,d(r){r&&d(e)}}}function We(l){let e,t,r,n,f,o,_,h,u,a,c,g,y,O,U,S,m,E,F,P,b;const L=[Fe,qe],T=[];function $(w,p){return w[7].length==0?0:1}return m=$(l),E=T[m]=L[m](l),{c(){e=C("div"),t=C("div"),r=C("h6"),n=X("Terminal - "),f=X(l[4]),o=M(),_=C("hr"),h=M(),u=C("div"),a=C("h6"),c=X("Baud Rate: "),g=C("span"),y=X(l[2]),O=M(),U=C("hr"),S=M(),E.c(),F=M(),P=C("div"),this.h()},l(w){e=D(w,"DIV",{class:!0});var p=k(e);t=D(p,"DIV",{class:!0});var A=k(t);r=D(A,"H6",{class:!0});var Y=k(r);n=G(Y,"Terminal - "),f=G(Y,l[4]),Y.forEach(d),o=q(A),_=D(A,"HR",{class:!0}),A.forEach(d),h=q(p),u=D(p,"DIV",{class:!0});var W=k(u);a=D(W,"H6",{class:!0});var ee=k(a);c=G(ee,"Baud Rate: "),g=D(ee,"SPAN",{class:!0});var le=k(g);y=G(le,l[2]),le.forEach(d),ee.forEach(d),O=q(W),U=D(W,"HR",{class:!0}),S=q(W),E.l(W),W.forEach(d),F=q(p),P=D(p,"DIV",{class:!0}),k(P).forEach(d),p.forEach(d),this.h()},h(){i(r,"class","svelte-rrug2h"),i(_,"class","svelte-rrug2h"),i(t,"class","console-header svelte-rrug2h"),Z(t,"active",l[1]),i(g,"class","baud svelte-rrug2h"),i(a,"class","svelte-rrug2h"),i(U,"class","svelte-rrug2h"),i(u,"class","console-overlay svelte-rrug2h"),Z(u,"active",l[1]),i(P,"class","xterm-container svelte-rrug2h"),Z(P,"active",l[1]),i(e,"class","console svelte-rrug2h")},m(w,p){V(w,e,p),v(e,t),v(t,r),v(r,n),v(r,f),v(t,o),v(t,_),v(e,h),v(e,u),v(u,a),v(a,c),v(a,g),v(g,y),v(u,O),v(u,U),v(u,S),T[m].m(u,null),v(e,F),v(e,P),l[18](P),b=!0},p(w,p){(!b||p[0]&16)&&_e(f,w[4]),(!b||p[0]&2)&&Z(t,"active",w[1]),(!b||p[0]&4)&&_e(y,w[2]);let A=m;m=$(w),m===A?T[m].p(w,p):(Ie(),Q(T[A],1,1,()=>{T[A]=null}),Ce(),E=T[m],E?E.p(w,p):(E=T[m]=L[m](w),E.c()),K(E,1),E.m(u,null)),(!b||p[0]&2)&&Z(u,"active",w[1]),(!b||p[0]&2)&&Z(P,"active",w[1])},i(w){b||(K(E),b=!0)},o(w){Q(E),b=!1},d(w){w&&d(e),T[m].d(),l[18](null)}}}function Ne(l){let e,t;return e=new Ve({props:{items:l[9]}}),e.$on("select",l[20]),{c(){te(e.$$.fragment)},l(r){re(e.$$.fragment,r)},m(r,n){ie(e,r,n),t=!0},p:H,i(r){t||(K(e.$$.fragment,r),t=!0)},o(r){Q(e.$$.fragment,r),t=!1},d(r){ne(e,r)}}}function Xe(l){let e,t;return{c(){e=C("div"),t=X("Baud Rate"),this.h()},l(r){e=D(r,"DIV",{slot:!0,class:!0});var n=k(e);t=G(n,"Baud Rate"),n.forEach(d),this.h()},h(){i(e,"slot","title"),i(e,"class","title svelte-rrug2h")},m(r,n){V(r,e,n),v(e,t)},p:H,d(r){r&&d(e)}}}function Ge(l){let e,t,r,n,f,o;function _(c){l[19](c)}let h={wide:l[3],tray:l[1]?l[11]:l[10],$$slots:{default:[We]},$$scope:{ctx:l}};l[0]!==void 0&&(h.aspect=l[0]),e=new Le({props:h}),ae.push(()=>de(e,"aspect",_));function u(c){l[21](c)}let a={$$slots:{title:[Xe],default:[Ne]},$$scope:{ctx:l}};return l[5]!==void 0&&(a.value=l[5]),n=new Be({props:a}),ae.push(()=>de(n,"value",u)),{c(){te(e.$$.fragment),r=M(),te(n.$$.fragment)},l(c){re(e.$$.fragment,c),r=q(c),re(n.$$.fragment,c)},m(c,g){ie(e,c,g),V(c,r,g),ie(n,c,g),o=!0},p(c,g){const y={};g[0]&8&&(y.wide=c[3]),g[0]&2&&(y.tray=c[1]?c[11]:c[10]),g[0]&470|g[1]&2&&(y.$$scope={dirty:g,ctx:c}),!t&&g[0]&1&&(t=!0,y.aspect=c[0],me(()=>t=!1)),e.$set(y);const O={};g[0]&36|g[1]&2&&(O.$$scope={dirty:g,ctx:c}),!f&&g[0]&32&&(f=!0,O.value=c[5],me(()=>f=!1)),n.$set(O)},i(c){o||(K(e.$$.fragment,c),K(n.$$.fragment,c),o=!0)},o(c){Q(e.$$.fragment,c),Q(n.$$.fragment,c),o=!1},d(c){ne(e,c),c&&d(r),ne(n,c)}}}function Je(l,e,t){let{aspect:r}=e,{wide:n=!1}=e,{name:f="COMX"}=e,{rows:o=15}=e,{active:_=!1}=e,{baud:h=115200}=e,{interactive:u=!0}=e;async function a(s){_&&await T(s)}let c=!1,g={4800:{},9600:{},19200:{},28800:{},38400:{},57600:{},76800:{},115200:{},576e3:{}},y=[{icon:ve,callback:p},{icon:ge,callback:A},{icon:Oe,callback:()=>{t(5,c=!0)}}],O=[{icon:ve,callback:p},{icon:ge,callback:A},{icon:Ae,callback:W}];const U=Ee();let S,m,E=null,F=[],P,b,L;async function T(s){if(u){let z=new TextEncoder().encode(s);await(L==null?void 0:L.write(z))}}function $(s){s.value!==void 0&&(m.write(s.value),U("recv",s.value),b==null||b.read().then($))}function w(s){s=="light"?t(16,m.options.theme={foreground:"#2d2d2d",cursor:"#2d2d2d",background:"#00000000"},m):t(16,m.options.theme={foreground:"#f5f5f5",cursor:"#f5f5f5",background:"#00000000"},m)}Te.subscribe(s=>{m!==void 0&&w(s)});async function p(){if("serial"in navigator){let s=await navigator.serial.getPorts();t(7,F=await Promise.all(s.map(async(j,z)=>{let I=j.getInfo(),J="";return"usbProductId"in I?J=`${z+1} - VID: ${I.usbVendorId}, PID: ${I.usbProductId}`:J=`${z+1} - Unknown Device`,{icon:"cable",text:J,port:j}})))}}async function A(){if("serial"in navigator)try{let s=await navigator.serial.requestPort();console.log(s),p()}catch{}}async function Y(){var j,z;let s=F.find(I=>I.text===P);if(s!==void 0){try{await s.port.open({baudRate:h})}catch(I){return Re.push({type:"error",title:"Port Open Failed!",message:"Failed to open Serial Port!",timeout:5}),console.error(I),!1}return b=(j=s.port.readable)==null?void 0:j.getReader(),L=(z=s.port.writable)==null?void 0:z.getWriter(),b==null||b.read().then($),t(1,_=!0),!0}else return!1}async function W(){let s=F.find(j=>j.text===P);s!==void 0&&(await(b==null?void 0:b.cancel()),await(L==null?void 0:L.close()),await s.port.close(),t(1,_=!1))}ye(async()=>{const{Terminal:s}=await he(()=>import("../chunks/xterm.4d24fdcf.js").then(N=>N.x),["../chunks/xterm.4d24fdcf.js","../chunks/Button.svelte_svelte_type_style_lang.662bcbc4.js","../chunks/index.74f49f08.js","../chunks/index.33cc678e.js","../assets/Button.1f7222b8.css"],import.meta.url),{FitAddon:j}=await he(()=>import("../chunks/xterm-addon-fit.adcb7a50.js").then(N=>N.x),["../chunks/xterm-addon-fit.adcb7a50.js","../chunks/Button.svelte_svelte_type_style_lang.662bcbc4.js","../chunks/index.74f49f08.js","../chunks/index.33cc678e.js","../assets/Button.1f7222b8.css"],import.meta.url),{WebglAddon:z}=await he(()=>import("../chunks/xterm-addon-webgl.6086098f.js").then(N=>N.x),["../chunks/xterm-addon-webgl.6086098f.js","../chunks/Button.svelte_svelte_type_style_lang.662bcbc4.js","../chunks/index.74f49f08.js","../chunks/index.33cc678e.js","../assets/Button.1f7222b8.css"],import.meta.url);t(16,m=new s({theme:{background:"#00000000"},allowTransparency:!0,convertEol:!0,rows:o}));let I=new j,J=new z;if(J.onContextLoss(N=>{J.dispose()}),m.loadAddon(I),m.loadAddon(J),m.open(S),m.onData(T),I.fit(),E=new ResizeObserver(function(N){I==null||I.fit()}),E.observe(S),!(P!==void 0&&await Y()===!0))try{await p(),setInterval(p,3e3)}catch{}}),Pe(()=>{E==null||E.unobserve(S)});function ee(s){P=s,t(8,P)}function le(s){ae[s?"unshift":"push"](()=>{S=s,t(6,S)})}function ke(s){r=s,t(0,r)}const we=s=>{t(2,h=parseInt(s.detail)),t(5,c=!1)};function be(s){c=s,t(5,c)}return l.$$set=s=>{"aspect"in s&&t(0,r=s.aspect),"wide"in s&&t(3,n=s.wide),"name"in s&&t(4,f=s.name),"rows"in s&&t(13,o=s.rows),"active"in s&&t(1,_=s.active),"baud"in s&&t(2,h=s.baud),"interactive"in s&&t(14,u=s.interactive)},l.$$.update=()=>{l.$$.dirty[0]&73728&&(m==null||m.resize(m.cols,o),m==null||m.scrollToBottom())},[r,_,h,n,f,c,S,F,P,g,y,O,Y,o,u,a,m,ee,le,ke,we,be]}class Ke extends ce{constructor(e){super(),ue(this,e,Je,Ge,fe,{aspect:0,wide:3,name:4,rows:13,active:1,baud:2,interactive:14,send:15},null,[-1,-1])}get send(){return this.$$.ctx[15]}}function Qe(l){let e,t,r,n,f,o,_,h,u;return h=new Ke({}),{c(){e=M(),t=C("h1"),r=X("Terminal"),n=M(),f=C("p"),o=X("This is a built-in serial terminal widget: it uses the Web Serial API"),_=M(),te(h.$$.fragment),this.h()},l(a){De("svelte-cvpght",document.head).forEach(d),e=q(a),t=D(a,"H1",{});var g=k(t);r=G(g,"Terminal"),g.forEach(d),n=q(a),f=D(a,"P",{});var y=k(f);o=G(y,"This is a built-in serial terminal widget: it uses the Web Serial API"),y.forEach(d),_=q(a),re(h.$$.fragment,a),this.h()},h(){document.title="Demo - Terminal"},m(a,c){V(a,e,c),V(a,t,c),v(t,r),V(a,n,c),V(a,f,c),v(f,o),V(a,_,c),ie(h,a,c),u=!0},p:H,i(a){u||(K(h.$$.fragment,a),u=!0)},o(a){Q(h.$$.fragment,a),u=!1},d(a){a&&d(e),a&&d(t),a&&d(n),a&&d(f),a&&d(_),ne(h,a)}}}function Ue(l){return[]}class vt extends ce{constructor(e){super(),ue(this,e,Ue,Qe,fe,{})}}export{vt as component};
