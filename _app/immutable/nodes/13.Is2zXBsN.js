import{s as ue,w as Q,x as R,y as x,h as w,d as m,j as n,z as se,i as V,u as v,v as B,A as oe,p as ae,a as O,c as L,M as me,S as Ee,o as ye,U as Pe,f as y,l as le,g as P,m as ie,F as K,n as ve,J as ce,N as Ie}from"../chunks/scheduler.FdWkyacO.js";import{S as fe,i as de,h as _e,b as $,d as ee,m as te,a as N,t as W,e as re,g as De,c as Ae}from"../chunks/index.7yMu5dm2.js";/* empty css                                                  */import"../chunks/ThemeSelector.svelte_svelte_type_style_lang.XNi7U43x.js";import{g as ke,t as Te}from"../chunks/Button.svelte_svelte_type_style_lang.5uonD8t2.js";import{C as Re,m as xe}from"../chunks/prism.E7XjHMYj.js";/* empty css                                                      *//* empty css                                                      */import"../chunks/Notifications.s3Intbze.js";/* empty css                                                     */import"../chunks/simplebar.OdDKkZHp.js";/* empty css                                                         *//* empty css                                                        *//* empty css                                                      *//* empty css                                                   */import{_ as he}from"../chunks/preload-helper.0HuHagjb.js";import"../chunks/App.svelte_svelte_type_style_lang.LPBWuiGi.js";import{R as pe}from"../chunks/refresh.ijuF91LM.js";import{S as Ve}from"../chunks/SearchableList.hLiHfH3H.js";import{D as je}from"../chunks/Dialog.bOdeOgmW.js";import{L as Be}from"../chunks/List.jbQGW832.js";import{C as Se}from"../chunks/Container.0UYnUQ68.js";function Oe(l){let e,t,r,s,u,o=[l[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],h={};for(let d=0;d<o.length;d+=1)h=Q(h,o[d]);return{c(){e=R("svg"),t=R("circle"),r=R("circle"),s=R("circle"),u=R("path"),this.h()},l(d){e=x(d,"svg",{fill:!0,viewBox:!0});var c=w(e);t=x(c,"circle",{cx:!0,cy:!0,r:!0}),w(t).forEach(m),r=x(c,"circle",{cx:!0,cy:!0,r:!0}),w(r).forEach(m),s=x(c,"circle",{cx:!0,cy:!0,r:!0}),w(s).forEach(m),u=x(c,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),w(u).forEach(m),c.forEach(m),this.h()},h(){n(t,"cx","256"),n(t,"cy","256"),n(t,"r","26"),n(r,"cx","346"),n(r,"cy","256"),n(r,"r","26"),n(s,"cx","166"),n(s,"cy","256"),n(s,"r","26"),n(u,"fill","none"),n(u,"stroke","currentColor"),n(u,"stroke-miterlimit","10"),n(u,"stroke-width","32"),n(u,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),se(e,h)},m(d,c){V(d,e,c),v(e,t),v(e,r),v(e,s),v(e,u)},p(d,[c]){se(e,h=ke(o,[c&1&&d[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:B,o:B,d(d){d&&m(e)}}}function Le(l,e,t){return l.$$set=r=>{t(0,e=Q(Q({},e),oe(r)))},e=oe(e),[e]}class ze extends fe{constructor(e){super(),de(this,e,Le,Oe,ue,{})}}function He(l){let e,t,r,s,u,o,h=[l[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],d={};for(let c=0;c<h.length;c+=1)d=Q(d,h[c]);return{c(){e=R("svg"),t=R("path"),r=R("path"),s=R("circle"),u=R("circle"),o=R("circle"),this.h()},l(c){e=x(c,"svg",{fill:!0,viewBox:!0});var f=w(e);t=x(f,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),w(t).forEach(m),r=x(f,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),w(r).forEach(m),s=x(f,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),w(s).forEach(m),u=x(f,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),w(u).forEach(m),o=x(f,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),w(o).forEach(m),f.forEach(m),this.h()},h(){n(t,"fill","none"),n(t,"stroke","currentColor"),n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"stroke-width","32"),n(t,"d","M224 184h128m-128 72h128m-128 71h128"),n(r,"fill","none"),n(r,"stroke","currentColor"),n(r,"stroke-miterlimit","10"),n(r,"stroke-width","32"),n(r,"d","M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192 192-86 192-192z"),n(s,"cx","168"),n(s,"cy","184"),n(s,"r","8"),n(s,"fill","none"),n(s,"stroke","currentColor"),n(s,"stroke-linecap","round"),n(s,"stroke-linejoin","round"),n(s,"stroke-width","32"),n(u,"cx","168"),n(u,"cy","257"),n(u,"r","8"),n(u,"fill","none"),n(u,"stroke","currentColor"),n(u,"stroke-linecap","round"),n(u,"stroke-linejoin","round"),n(u,"stroke-width","32"),n(o,"cx","168"),n(o,"cy","328"),n(o,"r","8"),n(o,"fill","none"),n(o,"stroke","currentColor"),n(o,"stroke-linecap","round"),n(o,"stroke-linejoin","round"),n(o,"stroke-width","32"),se(e,d)},m(c,f){V(c,e,f),v(e,t),v(e,r),v(e,s),v(e,u),v(e,o)},p(c,[f]){se(e,d=ke(h,[f&1&&c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:B,o:B,d(c){c&&m(e)}}}function Me(l,e,t){return l.$$set=r=>{t(0,e=Q(Q({},e),oe(r)))},e=oe(e),[e]}class ge extends fe{constructor(e){super(),de(this,e,Me,He,ue,{})}}function Fe(l){let e,t,r;function s(o){l[17](o)}let u={items:l[7]};return l[8]!==void 0&&(u.value=l[8]),e=new Be({props:u}),ae.push(()=>_e(e,"value",s)),e.$on("change",l[12]),{c(){$(e.$$.fragment)},l(o){ee(e.$$.fragment,o)},m(o,h){te(e,o,h),r=!0},p(o,h){const d={};h[0]&128&&(d.items=o[7]),!t&&h[0]&256&&(t=!0,d.value=o[8],me(()=>t=!1)),e.$set(d)},i(o){r||(N(e.$$.fragment,o),r=!0)},o(o){W(e.$$.fragment,o),r=!1},d(o){re(e,o)}}}function qe(l){let e,t="[No Available Ports]";return{c(){e=y("h6"),e.textContent=t,this.h()},l(r){e=P(r,"H6",{class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-kgo6mi"&&(e.textContent=t),this.h()},h(){n(e,"class","svelte-rrug2h")},m(r,s){V(r,e,s)},p:B,i:B,o:B,d(r){r&&m(e)}}}function Ne(l){let e,t,r,s,u,o,h,d,c,f,a,p,I,S,U,j,_,b,z,C,E;const J=[qe,Fe],D=[];function Y(k,g){return k[7].length==0?0:1}return _=Y(l),b=D[_]=J[_](l),{c(){e=y("div"),t=y("div"),r=y("h6"),s=le("Terminal - "),u=le(l[4]),o=O(),h=y("hr"),d=O(),c=y("div"),f=y("h6"),a=le("Baud Rate: "),p=y("span"),I=le(l[2]),S=O(),U=y("hr"),j=O(),b.c(),z=O(),C=y("div"),this.h()},l(k){e=P(k,"DIV",{class:!0});var g=w(e);t=P(g,"DIV",{class:!0});var A=w(t);r=P(A,"H6",{class:!0});var X=w(r);s=ie(X,"Terminal - "),u=ie(X,l[4]),X.forEach(m),o=L(A),h=P(A,"HR",{class:!0}),A.forEach(m),d=L(g),c=P(g,"DIV",{class:!0});var H=w(c);f=P(H,"H6",{class:!0});var Z=w(f);a=ie(Z,"Baud Rate: "),p=P(Z,"SPAN",{class:!0});var ne=w(p);I=ie(ne,l[2]),ne.forEach(m),Z.forEach(m),S=L(H),U=P(H,"HR",{class:!0}),j=L(H),b.l(H),H.forEach(m),z=L(g),C=P(g,"DIV",{class:!0}),w(C).forEach(m),g.forEach(m),this.h()},h(){n(r,"class","svelte-rrug2h"),n(h,"class","svelte-rrug2h"),n(t,"class","console-header svelte-rrug2h"),K(t,"active",l[1]),n(p,"class","baud svelte-rrug2h"),n(f,"class","svelte-rrug2h"),n(U,"class","svelte-rrug2h"),n(c,"class","console-overlay svelte-rrug2h"),K(c,"active",l[1]),n(C,"class","xterm-container svelte-rrug2h"),K(C,"active",l[1]),n(e,"class","console svelte-rrug2h")},m(k,g){V(k,e,g),v(e,t),v(t,r),v(r,s),v(r,u),v(t,o),v(t,h),v(e,d),v(e,c),v(c,f),v(f,a),v(f,p),v(p,I),v(c,S),v(c,U),v(c,j),D[_].m(c,null),v(e,z),v(e,C),l[18](C),E=!0},p(k,g){(!E||g[0]&16)&&ve(u,k[4]),(!E||g[0]&2)&&K(t,"active",k[1]),(!E||g[0]&4)&&ve(I,k[2]);let A=_;_=Y(k),_===A?D[_].p(k,g):(De(),W(D[A],1,1,()=>{D[A]=null}),Ae(),b=D[_],b?b.p(k,g):(b=D[_]=J[_](k),b.c()),N(b,1),b.m(c,null)),(!E||g[0]&2)&&K(c,"active",k[1]),(!E||g[0]&2)&&K(C,"active",k[1])},i(k){E||(N(b),E=!0)},o(k){W(b),E=!1},d(k){k&&m(e),D[_].d(),l[18](null)}}}function We(l){let e,t;return e=new Ve({props:{items:l[9]}}),e.$on("select",l[20]),{c(){$(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,s){te(e,r,s),t=!0},p:B,i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){W(e.$$.fragment,r),t=!1},d(r){re(e,r)}}}function Ue(l){let e,t="Baud Rate";return{c(){e=y("div"),e.textContent=t,this.h()},l(r){e=P(r,"DIV",{slot:!0,class:!0,"data-svelte-h":!0}),ce(e)!=="svelte-1akte3a"&&(e.textContent=t),this.h()},h(){n(e,"slot","title"),n(e,"class","title svelte-rrug2h")},m(r,s){V(r,e,s)},p:B,d(r){r&&m(e)}}}function Je(l){let e,t,r,s,u,o;function h(a){l[19](a)}let d={wide:l[3],tray:l[1]?l[11]:l[10],$$slots:{default:[Ne]},$$scope:{ctx:l}};l[0]!==void 0&&(d.aspect=l[0]),e=new Se({props:d}),ae.push(()=>_e(e,"aspect",h));function c(a){l[21](a)}let f={$$slots:{title:[Ue],default:[We]},$$scope:{ctx:l}};return l[5]!==void 0&&(f.value=l[5]),s=new je({props:f}),ae.push(()=>_e(s,"value",c)),{c(){$(e.$$.fragment),r=O(),$(s.$$.fragment)},l(a){ee(e.$$.fragment,a),r=L(a),ee(s.$$.fragment,a)},m(a,p){te(e,a,p),V(a,r,p),te(s,a,p),o=!0},p(a,p){const I={};p[0]&8&&(I.wide=a[3]),p[0]&2&&(I.tray=a[1]?a[11]:a[10]),p[0]&470|p[1]&2&&(I.$$scope={dirty:p,ctx:a}),!t&&p[0]&1&&(t=!0,I.aspect=a[0],me(()=>t=!1)),e.$set(I);const S={};p[0]&36|p[1]&2&&(S.$$scope={dirty:p,ctx:a}),!u&&p[0]&32&&(u=!0,S.value=a[5],me(()=>u=!1)),s.$set(S)},i(a){o||(N(e.$$.fragment,a),N(s.$$.fragment,a),o=!0)},o(a){W(e.$$.fragment,a),W(s.$$.fragment,a),o=!1},d(a){a&&m(r),re(e,a),re(s,a)}}}function Xe(l,e,t){let{aspect:r}=e,{wide:s=!1}=e,{name:u="COMX"}=e,{rows:o=15}=e,{active:h=!1}=e,{baud:d=115200}=e,{interactive:c=!0}=e;async function f(i){h&&await D(i)}let a=!1,p={4800:{},9600:{},19200:{},28800:{},38400:{},57600:{},76800:{},115200:{},576e3:{}},I=[{icon:pe,callback:g},{icon:ge,callback:A},{icon:ze,callback:()=>{t(5,a=!0)}}],S=[{icon:pe,callback:g},{icon:ge,callback:A},{icon:Re,callback:H}];const U=Ee();let j,_,b=null,z=[],C,E,J;async function D(i){if(c){let G=new TextEncoder().encode(i);await J?.write(G)}}function Y(i){i.value!==void 0&&(_.write(i.value),U("recv",i.value),E?.read().then(Y))}function k(i){i=="light"?t(16,_.options.theme={foreground:"#2d2d2d",cursor:"#2d2d2d",background:"#00000000"},_):t(16,_.options.theme={foreground:"#f5f5f5",cursor:"#f5f5f5",background:"#00000000"},_)}Te.subscribe(i=>{_!==void 0&&k(i)});async function g(){if("serial"in navigator){let i=await navigator.serial.getPorts();t(7,z=await Promise.all(i.map(async(T,G)=>{let F=T.getInfo(),q="";return"usbProductId"in F?q=`${G+1} - VID: ${F.usbVendorId}, PID: ${F.usbProductId}`:q=`${G+1} - Unknown Device`,{icon:"cable",text:q,port:T}})))}}async function A(){if("serial"in navigator)try{let i=await navigator.serial.requestPort();console.log(i),g()}catch{}}async function X(){let i=z.find(T=>T.text===C);if(i!==void 0){try{await i.port.open({baudRate:d})}catch(T){return xe.push({type:"error",title:"Port Open Failed!",message:"Failed to open Serial Port!",timeout:5}),console.error(T),!1}return E=i.port.readable?.getReader(),J=i.port.writable?.getWriter(),E?.read().then(Y),t(1,h=!0),!0}else return!1}async function H(){let i=z.find(T=>T.text===C);i!==void 0&&(await E?.cancel(),await J?.close(),await i.port.close(),t(1,h=!1))}ye(async()=>{const{Terminal:i}=await he(()=>import("../chunks/xterm.FDZRVN5T.js").then(M=>M.x),__vite__mapDeps([0,1]),import.meta.url),{FitAddon:T}=await he(()=>import("../chunks/xterm-addon-fit.sUTMYgzC.js").then(M=>M.x),__vite__mapDeps([2,1]),import.meta.url),{WebglAddon:G}=await he(()=>import("../chunks/xterm-addon-webgl.Lx019Gf-.js").then(M=>M.x),__vite__mapDeps([3,1]),import.meta.url);t(16,_=new i({theme:{background:"#00000000"},allowTransparency:!0,convertEol:!0,rows:o}));let F=new T,q=new G;if(q.onContextLoss(M=>{q.dispose()}),_.loadAddon(F),_.loadAddon(q),_.open(j),_.onData(D),F.fit(),b=new ResizeObserver(function(M){F?.fit()}),b.observe(j),!(C!==void 0&&await X()===!0))try{await g(),setInterval(g,3e3)}catch{}}),Pe(()=>{b?.unobserve(j)});function Z(i){C=i,t(8,C)}function ne(i){ae[i?"unshift":"push"](()=>{j=i,t(6,j)})}function we(i){r=i,t(0,r)}const be=i=>{t(2,d=parseInt(i.detail)),t(5,a=!1)};function Ce(i){a=i,t(5,a)}return l.$$set=i=>{"aspect"in i&&t(0,r=i.aspect),"wide"in i&&t(3,s=i.wide),"name"in i&&t(4,u=i.name),"rows"in i&&t(13,o=i.rows),"active"in i&&t(1,h=i.active),"baud"in i&&t(2,d=i.baud),"interactive"in i&&t(14,c=i.interactive)},l.$$.update=()=>{l.$$.dirty[0]&73728&&(_?.resize(_.cols,o),_?.scrollToBottom())},[r,h,d,s,u,a,j,z,C,p,I,S,X,o,c,f,_,Z,ne,we,be,Ce]}class Ge extends fe{constructor(e){super(),de(this,e,Xe,Je,ue,{aspect:0,wide:3,name:4,rows:13,active:1,baud:2,interactive:14,send:15},null,[-1,-1])}get send(){return this.$$.ctx[15]}}function Ke(l){let e,t,r="Terminal",s,u,o="This is a built-in serial terminal widget: it uses the Web Serial API",h,d,c;return d=new Ge({}),{c(){e=O(),t=y("h1"),t.textContent=r,s=O(),u=y("p"),u.textContent=o,h=O(),$(d.$$.fragment),this.h()},l(f){Ie("svelte-cvpght",document.head).forEach(m),e=L(f),t=P(f,"H1",{"data-svelte-h":!0}),ce(t)!=="svelte-19slphk"&&(t.textContent=r),s=L(f),u=P(f,"P",{"data-svelte-h":!0}),ce(u)!=="svelte-1vj1fkb"&&(u.textContent=o),h=L(f),ee(d.$$.fragment,f),this.h()},h(){document.title="Demo - Terminal"},m(f,a){V(f,e,a),V(f,t,a),V(f,s,a),V(f,u,a),V(f,h,a),te(d,f,a),c=!0},p:B,i(f){c||(N(d.$$.fragment,f),c=!0)},o(f){W(d.$$.fragment,f),c=!1},d(f){f&&(m(e),m(t),m(s),m(u),m(h)),re(d,f)}}}function Qe(l){return[]}class kt extends fe{constructor(e){super(),de(this,e,Qe,Ke,ue,{})}}export{kt as component};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["../chunks/xterm.FDZRVN5T.js","../chunks/_commonjsHelpers.5-cIlDoe.js","../chunks/xterm-addon-fit.sUTMYgzC.js","../chunks/xterm-addon-webgl.Lx019Gf-.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}