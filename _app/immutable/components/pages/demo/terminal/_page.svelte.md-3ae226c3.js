import{S as A,i as N,s as O,M as D,N as g,O as w,m as p,h as d,n,P as V,b,H as v,Q as K,B as x,R as q,w as W,x as F,y as Q,f as C,t as z,z as U,a8 as le,o as ne,ai as se,k as E,q as M,a as T,l as P,r as R,c as B,u as oe,g as Y,d as Z,ac as $,ae,af as ce}from"../../../../chunks/index-401eb793.js";import"../../../../chunks/preload-helper-b21cceae.js";/* empty css                                                           */import"../../../../chunks/ripple-71499363.js";/* empty css                                                              *//* empty css                                                                     */import"../../../../chunks/Notifications-794ffa9a.js";/* empty css                                                               *//* empty css                                                              *//* empty css                                                                  */import"../../../../chunks/Container.svelte_svelte_type_style_lang-cfc71f03.js";/* empty css                                                               */import{t as ue}from"../../../../chunks/index-d1221593.js";import"../../../../chunks/App.svelte_svelte_type_style_lang-a63ac7e0.js";import{m as fe}from"../../../../chunks/prism-804952ed.js";import{L as he}from"../../../../chunks/List-cec6f92b.js";import{R as me}from"../../../../chunks/refresh-cd33d14c.js";import{C as de}from"../../../../chunks/Container-09db8ca4.js";/* empty css                                                               *//* empty css                                                                  */function _e(c){let e,t,r,s,a,l=[c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],h={};for(let o=0;o<l.length;o+=1)h=D(h,l[o]);return{c(){e=g("svg"),t=g("circle"),r=g("circle"),s=g("circle"),a=g("path"),this.h()},l(o){e=w(o,"svg",{fill:!0,viewBox:!0});var i=p(e);t=w(i,"circle",{cx:!0,cy:!0,r:!0}),p(t).forEach(d),r=w(i,"circle",{cx:!0,cy:!0,r:!0}),p(r).forEach(d),s=w(i,"circle",{cx:!0,cy:!0,r:!0}),p(s).forEach(d),a=w(i,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),p(a).forEach(d),i.forEach(d),this.h()},h(){n(t,"cx","256"),n(t,"cy","256"),n(t,"r","26"),n(r,"cx","346"),n(r,"cy","256"),n(r,"r","26"),n(s,"cx","166"),n(s,"cy","256"),n(s,"r","26"),n(a,"fill","none"),n(a,"stroke","currentColor"),n(a,"stroke-miterlimit","10"),n(a,"stroke-width","32"),n(a,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),V(e,h)},m(o,i){b(o,e,i),v(e,t),v(e,r),v(e,s),v(e,a)},p(o,[i]){V(e,h=K(l,[i&1&&o[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:x,o:x,d(o){o&&d(e)}}}function ve(c,e,t){return c.$$set=r=>{t(0,e=D(D({},e),q(r)))},e=q(e),[e]}class ke extends A{constructor(e){super(),N(this,e,ve,_e,O,{})}}function pe(c){let e,t,r,s,a,l,h=[c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],o={};for(let i=0;i<h.length;i+=1)o=D(o,h[i]);return{c(){e=g("svg"),t=g("path"),r=g("path"),s=g("circle"),a=g("circle"),l=g("circle"),this.h()},l(i){e=w(i,"svg",{fill:!0,viewBox:!0});var u=p(e);t=w(u,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(t).forEach(d),r=w(u,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),p(r).forEach(d),s=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(s).forEach(d),a=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(a).forEach(d),l=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(l).forEach(d),u.forEach(d),this.h()},h(){n(t,"fill","none"),n(t,"stroke","currentColor"),n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"stroke-width","32"),n(t,"d","M224 184h128m-128 72h128m-128 71h128"),n(r,"fill","none"),n(r,"stroke","currentColor"),n(r,"stroke-miterlimit","10"),n(r,"stroke-width","32"),n(r,"d","M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192 192-86 192-192z"),n(s,"cx","168"),n(s,"cy","184"),n(s,"r","8"),n(s,"fill","none"),n(s,"stroke","currentColor"),n(s,"stroke-linecap","round"),n(s,"stroke-linejoin","round"),n(s,"stroke-width","32"),n(a,"cx","168"),n(a,"cy","257"),n(a,"r","8"),n(a,"fill","none"),n(a,"stroke","currentColor"),n(a,"stroke-linecap","round"),n(a,"stroke-linejoin","round"),n(a,"stroke-width","32"),n(l,"cx","168"),n(l,"cy","328"),n(l,"r","8"),n(l,"fill","none"),n(l,"stroke","currentColor"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"stroke-width","32"),V(e,o)},m(i,u){b(i,e,u),v(e,t),v(e,r),v(e,s),v(e,a),v(e,l)},p(i,[u]){V(e,o=K(h,[u&1&&i[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:x,o:x,d(i){i&&d(e)}}}function ge(c,e,t){return c.$$set=r=>{t(0,e=D(D({},e),q(r)))},e=q(e),[e]}class we extends A{constructor(e){super(),N(this,e,ge,pe,O,{})}}function J(c){let e,t,r,s;const a=[ye,be],l=[];function h(o,i){return o[3].length==0?0:1}return t=h(c),r=l[t]=a[t](c),{c(){e=E("div"),r.c(),this.h()},l(o){e=P(o,"DIV",{class:!0});var i=p(e);r.l(i),i.forEach(d),this.h()},h(){n(e,"class","serial-overlay svelte-1w1dcoz")},m(o,i){b(o,e,i),l[t].m(e,null),s=!0},p(o,i){let u=t;t=h(o),t===u?l[t].p(o,i):(Y(),z(l[u],1,1,()=>{l[u]=null}),Z(),r=l[t],r?r.p(o,i):(r=l[t]=a[t](o),r.c()),C(r,1),r.m(e,null))},i(o){s||(C(r),s=!0)},o(o){z(r),s=!1},d(o){o&&d(e),l[t].d()}}}function be(c){let e,t,r;function s(l){c[13](l)}let a={items:c[3]};return c[4]!==void 0&&(a.value=c[4]),e=new he({props:a}),$.push(()=>ae(e,"value",s)),e.$on("change",c[7]),{c(){W(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,h){Q(e,l,h),r=!0},p(l,h){const o={};h&8&&(o.items=l[3]),!t&&h&16&&(t=!0,o.value=l[4],ce(()=>t=!1)),e.$set(o)},i(l){r||(C(e.$$.fragment,l),r=!0)},o(l){z(e.$$.fragment,l),r=!1},d(l){U(e,l)}}}function ye(c){let e,t;return{c(){e=E("h6"),t=M("[No Available Ports]"),this.h()},l(r){e=P(r,"H6",{class:!0});var s=p(e);t=R(s,"[No Available Ports]"),s.forEach(d),this.h()},h(){n(e,"class","svelte-1w1dcoz")},m(r,s){b(r,e,s),v(e,t)},p:x,i:x,o:x,d(r){r&&d(e)}}}function Ee(c){let e,t,r,s,a,l,h,o,i,u,m=!c[0]&&J(c);return{c(){e=E("div"),t=E("h6"),r=M("Terminal - "),s=M(c[1]),a=T(),l=E("hr"),h=T(),o=E("div"),i=T(),m&&m.c(),this.h()},l(_){e=P(_,"DIV",{class:!0});var k=p(e);t=P(k,"H6",{class:!0});var S=p(t);r=R(S,"Terminal - "),s=R(S,c[1]),S.forEach(d),a=B(k),l=P(k,"HR",{class:!0}),h=B(k),o=P(k,"DIV",{class:!0}),p(o).forEach(d),i=B(k),m&&m.l(k),k.forEach(d),this.h()},h(){n(t,"class","svelte-1w1dcoz"),n(l,"class","svelte-1w1dcoz"),n(o,"class","xterm-container svelte-1w1dcoz"),n(e,"class","console svelte-1w1dcoz")},m(_,k){b(_,e,k),v(e,t),v(t,r),v(t,s),v(e,a),v(e,l),v(e,h),v(e,o),c[12](o),v(e,i),m&&m.m(e,null),u=!0},p(_,k){(!u||k&2)&&oe(s,_[1]),_[0]?m&&(Y(),z(m,1,1,()=>{m=null}),Z()):m?(m.p(_,k),k&1&&C(m,1)):(m=J(_),m.c(),C(m,1),m.m(e,null))},i(_){u||(C(m),u=!0)},o(_){z(m),u=!1},d(_){_&&d(e),c[12](null),m&&m.d()}}}function Pe(c){let e,t;return e=new de({props:{wide:!0,tray:[{icon:me,callback:c[5]},{icon:we,callback:c[6]},{icon:ke,callback:xe}],$$slots:{default:[Ee]},$$scope:{ctx:c}}}),{c(){W(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,s){Q(e,r,s),t=!0},p(r,[s]){const a={};s&524319&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){U(e,r)}}}function xe(){console.error("Not Implemented!")}function Ce(c,e,t){const r=le();let{name:s="COMX"}=e,{rows:a=15}=e,{active:l=!1}=e,{baud:h=115200}=e,{interactive:o=!0}=e,i,u=[],m,_,k;async function S(f){l&&ee(f)}async function ee(f){if(o){let y=new TextEncoder().encode(f);console.log(y),await(k==null?void 0:k.write(y))}}function X(f){r("recv",f.value),_==null||_.read().then(X)}ue.subscribe(f=>{});async function H(){if("serial"in navigator){let f=await navigator.serial.getPorts();t(3,u=await Promise.all(f.map(async(j,y)=>{let I=j.getInfo(),L="";return"usbProductId"in I?L=`${y+1} - VID: ${I.usbVendorId}, PID: ${I.usbProductId}`:L=`${y+1} - Unknown Device`,{icon:"cable",text:L,port:j}})))}}async function te(){if("serial"in navigator)try{let f=await navigator.serial.requestPort();console.log(f),H()}catch{}}async function G(){var j,y;let f=u.find(I=>I.text===m);if(f!==void 0){try{await f.port.open({baudRate:h})}catch(I){return fe.push({type:"error",title:"Port Open Failed!",message:"Failed to open Serial Port!",timeout:5}),console.error(I),!1}return _=(j=f.port.readable)==null?void 0:j.getReader(),k=(y=f.port.writable)==null?void 0:y.getWriter(),_==null||_.read().then(X),t(0,l=!0),!0}else return!1}ne(async()=>{if(!(m!==void 0&&await G()===!0))try{await H(),setInterval(H,3e3)}catch{}}),se(()=>{});function re(f){$[f?"unshift":"push"](()=>{i=f,t(2,i)})}function ie(f){m=f,t(4,m)}return c.$$set=f=>{"name"in f&&t(1,s=f.name),"rows"in f&&t(8,a=f.rows),"active"in f&&t(0,l=f.active),"baud"in f&&t(9,h=f.baud),"interactive"in f&&t(10,o=f.interactive)},[l,s,i,u,m,H,te,G,a,h,o,S,re,ie]}class Ie extends A{constructor(e){super(),N(this,e,Ce,Pe,O,{name:1,rows:8,active:0,baud:9,interactive:10,send:11})}get send(){return this.$$.ctx[11]}}function ze(c){let e,t,r,s,a,l,h,o;return h=new Ie({}),{c(){e=E("h1"),t=M("Terminal"),r=T(),s=E("p"),a=M("This is a built-in serial terminal widget: it uses the Web Serial API"),l=T(),W(h.$$.fragment)},l(i){e=P(i,"H1",{});var u=p(e);t=R(u,"Terminal"),u.forEach(d),r=B(i),s=P(i,"P",{});var m=p(s);a=R(m,"This is a built-in serial terminal widget: it uses the Web Serial API"),m.forEach(d),l=B(i),F(h.$$.fragment,i)},m(i,u){b(i,e,u),v(e,t),b(i,r,u),b(i,s,u),v(s,a),b(i,l,u),Q(h,i,u),o=!0},p:x,i(i){o||(C(h.$$.fragment,i),o=!0)},o(i){z(h.$$.fragment,i),o=!1},d(i){i&&d(e),i&&d(r),i&&d(s),i&&d(l),U(h,i)}}}function je(c){return[]}class Ke extends A{constructor(e){super(),N(this,e,je,ze,O,{})}}export{Ke as default};
