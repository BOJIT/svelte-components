import{S as A,i as L,s as N,P as j,Q as g,R as w,m as p,h as m,n,T as M,b,H as v,U as K,B as x,V as q,w as W,x as F,y as U,f as C,t as z,z as Q,a8 as le,o as ne,ae as se,k as E,q as R,a as S,l as P,r as V,c as B,u as oe,g as Y,d as Z,ab as $,ac as ae,ad as ce}from"../../../../chunks/index-e917e727.js";import"../../../../chunks/preload-helper-b21cceae.js";/* empty css                                                                     */import"../../../../chunks/ripple-30976434.js";import"../../../../chunks/Button-f5f59228.js";/* empty css                                                                        *//* empty css                                                              */import"../../../../chunks/SelectorFilter.svelte_svelte_type_style_lang-292cf01b.js";/* empty css                                                                 */import{t as ue}from"../../../../chunks/index-52b2abe4.js";import"../../../../chunks/App.svelte_svelte_type_style_lang-a63ac7e0.js";import{m as fe}from"../../../../chunks/prism-e10a34b9.js";import{C as he}from"../../../../chunks/Container-e7a59fee.js";import{L as de}from"../../../../chunks/List-6d6765f7.js";import{R as me}from"../../../../chunks/refresh-93349a9e.js";/* empty css                                                              *//* empty css                                                               *//* empty css                                                                  */function _e(c){let e,t,r,s,a,l=[c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],h={};for(let o=0;o<l.length;o+=1)h=j(h,l[o]);return{c(){e=g("svg"),t=g("circle"),r=g("circle"),s=g("circle"),a=g("path"),this.h()},l(o){e=w(o,"svg",{fill:!0,viewBox:!0});var i=p(e);t=w(i,"circle",{cx:!0,cy:!0,r:!0}),p(t).forEach(m),r=w(i,"circle",{cx:!0,cy:!0,r:!0}),p(r).forEach(m),s=w(i,"circle",{cx:!0,cy:!0,r:!0}),p(s).forEach(m),a=w(i,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),p(a).forEach(m),i.forEach(m),this.h()},h(){n(t,"cx","256"),n(t,"cy","256"),n(t,"r","26"),n(r,"cx","346"),n(r,"cy","256"),n(r,"r","26"),n(s,"cx","166"),n(s,"cy","256"),n(s,"r","26"),n(a,"fill","none"),n(a,"stroke","currentColor"),n(a,"stroke-miterlimit","10"),n(a,"stroke-width","32"),n(a,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),M(e,h)},m(o,i){b(o,e,i),v(e,t),v(e,r),v(e,s),v(e,a)},p(o,[i]){M(e,h=K(l,[i&1&&o[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:x,o:x,d(o){o&&m(e)}}}function ve(c,e,t){return c.$$set=r=>{t(0,e=j(j({},e),q(r)))},e=q(e),[e]}class ke extends A{constructor(e){super(),L(this,e,ve,_e,N,{})}}function pe(c){let e,t,r,s,a,l,h=[c[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}],o={};for(let i=0;i<h.length;i+=1)o=j(o,h[i]);return{c(){e=g("svg"),t=g("path"),r=g("path"),s=g("circle"),a=g("circle"),l=g("circle"),this.h()},l(i){e=w(i,"svg",{fill:!0,viewBox:!0});var u=p(e);t=w(u,"path",{fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),p(t).forEach(m),r=w(u,"path",{fill:!0,stroke:!0,"stroke-miterlimit":!0,"stroke-width":!0,d:!0}),p(r).forEach(m),s=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(s).forEach(m),a=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(a).forEach(m),l=w(u,"circle",{cx:!0,cy:!0,r:!0,fill:!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(l).forEach(m),u.forEach(m),this.h()},h(){n(t,"fill","none"),n(t,"stroke","currentColor"),n(t,"stroke-linecap","round"),n(t,"stroke-linejoin","round"),n(t,"stroke-width","32"),n(t,"d","M224 184h128m-128 72h128m-128 71h128"),n(r,"fill","none"),n(r,"stroke","currentColor"),n(r,"stroke-miterlimit","10"),n(r,"stroke-width","32"),n(r,"d","M448 258c0-106-86-192-192-192S64 152 64 258s86 192 192 192 192-86 192-192z"),n(s,"cx","168"),n(s,"cy","184"),n(s,"r","8"),n(s,"fill","none"),n(s,"stroke","currentColor"),n(s,"stroke-linecap","round"),n(s,"stroke-linejoin","round"),n(s,"stroke-width","32"),n(a,"cx","168"),n(a,"cy","257"),n(a,"r","8"),n(a,"fill","none"),n(a,"stroke","currentColor"),n(a,"stroke-linecap","round"),n(a,"stroke-linejoin","round"),n(a,"stroke-width","32"),n(l,"cx","168"),n(l,"cy","328"),n(l,"r","8"),n(l,"fill","none"),n(l,"stroke","currentColor"),n(l,"stroke-linecap","round"),n(l,"stroke-linejoin","round"),n(l,"stroke-width","32"),M(e,o)},m(i,u){b(i,e,u),v(e,t),v(e,r),v(e,s),v(e,a),v(e,l)},p(i,[u]){M(e,o=K(h,[u&1&&i[0],{fill:"currentColor"},{viewBox:"0 0 512 512"}]))},i:x,o:x,d(i){i&&m(e)}}}function ge(c,e,t){return c.$$set=r=>{t(0,e=j(j({},e),q(r)))},e=q(e),[e]}class we extends A{constructor(e){super(),L(this,e,ge,pe,N,{})}}function J(c){let e,t,r,s;const a=[ye,be],l=[];function h(o,i){return o[3].length==0?0:1}return t=h(c),r=l[t]=a[t](c),{c(){e=E("div"),r.c(),this.h()},l(o){e=P(o,"DIV",{class:!0});var i=p(e);r.l(i),i.forEach(m),this.h()},h(){n(e,"class","serial-overlay svelte-1w1dcoz")},m(o,i){b(o,e,i),l[t].m(e,null),s=!0},p(o,i){let u=t;t=h(o),t===u?l[t].p(o,i):(Y(),z(l[u],1,1,()=>{l[u]=null}),Z(),r=l[t],r?r.p(o,i):(r=l[t]=a[t](o),r.c()),C(r,1),r.m(e,null))},i(o){s||(C(r),s=!0)},o(o){z(r),s=!1},d(o){o&&m(e),l[t].d()}}}function be(c){let e,t,r;function s(l){c[13](l)}let a={items:c[3]};return c[4]!==void 0&&(a.value=c[4]),e=new de({props:a}),$.push(()=>ae(e,"value",s)),e.$on("change",c[7]),{c(){W(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,h){U(e,l,h),r=!0},p(l,h){const o={};h&8&&(o.items=l[3]),!t&&h&16&&(t=!0,o.value=l[4],ce(()=>t=!1)),e.$set(o)},i(l){r||(C(e.$$.fragment,l),r=!0)},o(l){z(e.$$.fragment,l),r=!1},d(l){Q(e,l)}}}function ye(c){let e,t;return{c(){e=E("h6"),t=R("[No Available Ports]"),this.h()},l(r){e=P(r,"H6",{class:!0});var s=p(e);t=V(s,"[No Available Ports]"),s.forEach(m),this.h()},h(){n(e,"class","svelte-1w1dcoz")},m(r,s){b(r,e,s),v(e,t)},p:x,i:x,o:x,d(r){r&&m(e)}}}function Ee(c){let e,t,r,s,a,l,h,o,i,u,d=!c[0]&&J(c);return{c(){e=E("div"),t=E("h6"),r=R("Terminal - "),s=R(c[1]),a=S(),l=E("hr"),h=S(),o=E("div"),i=S(),d&&d.c(),this.h()},l(_){e=P(_,"DIV",{class:!0});var k=p(e);t=P(k,"H6",{class:!0});var D=p(t);r=V(D,"Terminal - "),s=V(D,c[1]),D.forEach(m),a=B(k),l=P(k,"HR",{class:!0}),h=B(k),o=P(k,"DIV",{class:!0}),p(o).forEach(m),i=B(k),d&&d.l(k),k.forEach(m),this.h()},h(){n(t,"class","svelte-1w1dcoz"),n(l,"class","svelte-1w1dcoz"),n(o,"class","xterm-container svelte-1w1dcoz"),n(e,"class","console svelte-1w1dcoz")},m(_,k){b(_,e,k),v(e,t),v(t,r),v(t,s),v(e,a),v(e,l),v(e,h),v(e,o),c[12](o),v(e,i),d&&d.m(e,null),u=!0},p(_,k){(!u||k&2)&&oe(s,_[1]),_[0]?d&&(Y(),z(d,1,1,()=>{d=null}),Z()):d?(d.p(_,k),k&1&&C(d,1)):(d=J(_),d.c(),C(d,1),d.m(e,null))},i(_){u||(C(d),u=!0)},o(_){z(d),u=!1},d(_){_&&m(e),c[12](null),d&&d.d()}}}function Pe(c){let e,t;return e=new he({props:{wide:!0,tray:[{icon:me,callback:c[5]},{icon:we,callback:c[6]},{icon:ke,callback:xe}],$$slots:{default:[Ee]},$$scope:{ctx:c}}}),{c(){W(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,s){U(e,r,s),t=!0},p(r,[s]){const a={};s&524319&&(a.$$scope={dirty:s,ctx:r}),e.$set(a)},i(r){t||(C(e.$$.fragment,r),t=!0)},o(r){z(e.$$.fragment,r),t=!1},d(r){Q(e,r)}}}function xe(){console.error("Not Implemented!")}function Ce(c,e,t){const r=le();let{name:s="COMX"}=e,{rows:a=15}=e,{active:l=!1}=e,{baud:h=115200}=e,{interactive:o=!0}=e,i,u=[],d,_,k;async function D(f){l&&ee(f)}async function ee(f){if(o){let y=new TextEncoder().encode(f);console.log(y),await(k==null?void 0:k.write(y))}}function X(f){r("recv",f.value),_==null||_.read().then(X)}ue.subscribe(f=>{});async function H(){if("serial"in navigator){let f=await navigator.serial.getPorts();t(3,u=await Promise.all(f.map(async(T,y)=>{let I=T.getInfo(),O="";return"usbProductId"in I?O=`${y+1} - VID: ${I.usbVendorId}, PID: ${I.usbProductId}`:O=`${y+1} - Unknown Device`,{icon:"cable",text:O,port:T}})))}}async function te(){if("serial"in navigator)try{let f=await navigator.serial.requestPort();console.log(f),H()}catch{}}async function G(){var T,y;let f=u.find(I=>I.text===d);if(f!==void 0){try{await f.port.open({baudRate:h})}catch(I){return fe.push({type:"error",title:"Port Open Failed!",message:"Failed to open Serial Port!",timeout:5}),console.error(I),!1}return _=(T=f.port.readable)==null?void 0:T.getReader(),k=(y=f.port.writable)==null?void 0:y.getWriter(),_==null||_.read().then(X),t(0,l=!0),!0}else return!1}ne(async()=>{if(!(d!==void 0&&await G()===!0))try{await H(),setInterval(H,3e3)}catch{}}),se(()=>{});function re(f){$[f?"unshift":"push"](()=>{i=f,t(2,i)})}function ie(f){d=f,t(4,d)}return c.$$set=f=>{"name"in f&&t(1,s=f.name),"rows"in f&&t(8,a=f.rows),"active"in f&&t(0,l=f.active),"baud"in f&&t(9,h=f.baud),"interactive"in f&&t(10,o=f.interactive)},[l,s,i,u,d,H,te,G,a,h,o,D,re,ie]}class Ie extends A{constructor(e){super(),L(this,e,Ce,Pe,N,{name:1,rows:8,active:0,baud:9,interactive:10,send:11})}get send(){return this.$$.ctx[11]}}function ze(c){let e,t,r,s,a,l,h,o;return h=new Ie({}),{c(){e=E("h1"),t=R("Terminal"),r=S(),s=E("p"),a=R("This is a built-in serial terminal widget: it uses the Web Serial API"),l=S(),W(h.$$.fragment)},l(i){e=P(i,"H1",{});var u=p(e);t=V(u,"Terminal"),u.forEach(m),r=B(i),s=P(i,"P",{});var d=p(s);a=V(d,"This is a built-in serial terminal widget: it uses the Web Serial API"),d.forEach(m),l=B(i),F(h.$$.fragment,i)},m(i,u){b(i,e,u),v(e,t),b(i,r,u),b(i,s,u),v(s,a),b(i,l,u),U(h,i,u),o=!0},p:x,i(i){o||(C(h.$$.fragment,i),o=!0)},o(i){z(h.$$.fragment,i),o=!1},d(i){i&&m(e),i&&m(r),i&&m(s),i&&m(l),Q(h,i)}}}function Te(c){return[]}class Ge extends A{constructor(e){super(),L(this,e,Te,ze,N,{})}}export{Ge as default};
